{{- $count := default .Params.recentPostCount .Site.Params.recentPostCount }}
{{- $sections := .Site.Params.mainSections }}
{{- if in (slice "posts" "docs") .Type }}
  {{- $sections = slice .Type }}
{{- end }}
{{- if and $count (default false .Site.Params.sidebar.recentPosts) }}
<section class="recent-posts row card component">
  <div class="card-header">
    <h2 class="card-title my-2 fs-4 text-surface">{{ i18n "recent_posts" }}</h2>
  </div>
  <div class="card-body">
    <ul class="post-list list-unstyled ms-1">
    {{- range first $count (where site.RegularPages.ByDate.Reverse "Type" "in" $sections) }}
      <li class="mb-2">
        <a href="{{ .Permalink }}">{{ partial "helpers/title" . }}</a>
      </li>
    {{- end }}
    </ul>
  </div>
</section>
{{- end }}
